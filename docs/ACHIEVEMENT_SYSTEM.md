# 🏆 このみちゃんゲーム - 実績・アンロックシステム設計

**目標**: マイクラ・牧場物語に匹敵する達成感とやり込み要素

---

## 🎯 実績システム

### 実績の種類

#### 🧩 ジグソーパズル
| 実績ID | 名前 | 条件 | 報酬 |
|--------|------|------|------|
| `puzzle_first` | はじめてのパズル！ | 1回クリア | スタンプ「🧩」 |
| `puzzle_5` | パズルマスター | 5回クリア | パズル画像「🐶」 |
| `puzzle_10` | パズルはかせ！ | 10回クリア | パズル画像「🚂」 |
| `puzzle_fast` | スピードクリア！ | 3分以内クリア | スタンプ「⚡」 |
| `puzzle_all` | ぜんぶクリア！ | 全画像クリア | スタンプ「👑」 |

#### 🎴 絵合わせ
| 実績ID | 名前 | 条件 | 報酬 |
|--------|------|------|------|
| `match_first` | はじめてのえあわせ！ | 1回クリア | スタンプ「🎴」 |
| `match_5` | きおくマスター | 5回クリア | カード絵柄「乗り物」 |
| `match_10` | きおくはかせ！ | 10回クリア | カード絵柄「季節」 |
| `match_perfect` | パーフェクト！ | 12手以内クリア | スタンプ「✨」 |

#### 🎨 おえかき
| 実績ID | 名前 | 条件 | 報酬 |
|--------|------|------|------|
| `draw_first` | はじめてのおえかき！ | 1作品保存 | スタンプ「🖌️」 |
| `draw_5` | アーティスト | 5作品保存 | スタンプセット「季節」 |
| `draw_10` | おえかきマスター！ | 10作品保存 | スタンプセット「動物」 |
| `draw_all_colors` | いろマスター！ | 全8色使用 | スタンプ「🌈」 |
| `draw_full` | ギャラリーいっぱい！ | 10作品で満杯 | スタンプ「🎨」 |

#### 🌈 いろあわせ
| 実績ID | 名前 | 条件 | 報酬 |
|--------|------|------|------|
| `color_first` | はじめてのいろ！ | 1回クリア | スタンプ「🌈」 |
| `color_10` | いろはかせ | 正解10回 | 難易度「ふつう」 |
| `color_50` | いろマスター！ | 正解50回 | 難易度「むずかしい」 |
| `color_perfect` | パーフェクト！ | 10連続正解 | スタンプ「🎨」 |

#### 🎵 リズムゲーム
| 実績ID | 名前 | 条件 | 報酬 |
|--------|------|------|------|
| `rhythm_first` | はじめてのリズム！ | 1曲クリア | スタンプ「🎵」 |
| `rhythm_all` | ぜんぶのきょく！ | 全曲クリア | スタンプ「🎶」 |
| `rhythm_perfect` | パーフェクト！ | Perfect 10回 | スタンプ「⭐」 |
| `rhythm_high` | ハイスコア！ | 90点以上 | スタンプ「🏆」 |

#### 🌸 おはなそだて（新規）
| 実績ID | 名前 | 条件 | 報酬 |
|--------|------|------|------|
| `flower_first` | はじめてのおはな！ | 1本開花 | スタンプ「🌸」 |
| `flower_5` | ガーデナー | 5本開花 | 花の種「🌻」 |
| `flower_10` | おはなマスター！ | 10本開花 | 花の種「🌹」 |
| `flower_all` | おはなはかせ！ | 全種類開花 | スタンプ「💐」 |

#### 🏅 総合実績
| 実績ID | 名前 | 条件 | 報酬 |
|--------|------|------|------|
| `total_10` | ゲームマスター | 実績10個 | 称号「マスター」 |
| `total_20` | ゲームはかせ | 実績20個 | 称号「はかせ」 |
| `total_all` | ぜんぶクリア！ | 全実績達成 | 称号「でんせつ」 |
| `daily_7` | まいにちあそぶ！ | 7日連続プレイ | スタンプ「📅」 |

---

## 🔓 アンロックシステム

### パズル画像アンロック

#### 初期（3枚）
- 🐱 ねこ（かんたん）
- 🍓 いちご（かんたん）
- 🌸 さくら（かんたん）

#### アンロック可能
- 🐶 いぬ → 実績「パズルマスター」
- 🐼 パンダ → 実績「パズルはかせ」
- 🍰 ケーキ → 実績「スピードクリア」
- 🚗 くるま → 総合実績10個
- 🚂 でんしゃ → 総合実績15個
- 🌈 にじ → 全ゲームクリア
- ✈️ ひこうき → 実績20個
- 🍩 ドーナツ → 7日連続プレイ

### 絵合わせ絵柄テーマアンロック

#### 初期（2テーマ）
- **どうぶつ**: 🐱🐶🐰🐼🐸🐷
- **くだもの**: 🍎🍊🍇🍓🍌🍉

#### アンロック可能
- **のりもの**: 🚗🚕🚙🚌🚎🏎️ → 実績「きおくマスター」
- **きせつ**: 🌸🌻🍁❄️🌈⭐ → 実績「きおくはかせ」
- **たべもの**: 🍰🍩🍪🍦🍕🍔 → 総合実績15個
- **うみ**: 🐟🐠🐡🦈🐙🦑 → 総合実績20個

### おえかきスタンプアンロック

#### 初期（6種類）
- ⭐ ほし
- ❤️ ハート
- 😊 えがお
- 🌸 さくら
- 🐱 ねこ
- 🍎 りんご

#### アンロック可能

**季節セット（4種）** → 実績「アーティスト」
- 🌻 ひまわり
- 🍁 もみじ
- ❄️ ゆき
- 🌈 にじ

**動物セット（6種）** → 実績「おえかきマスター」
- 🐶 いぬ
- 🐰 うさぎ
- 🐼 パンダ
- 🐸 カエル
- 🐷 ブタ
- 🐥 ひよこ

**食べ物セット（6種）** → 総合実績15個
- 🍰 ケーキ
- 🍩 ドーナツ
- 🍪 クッキー
- 🍦 アイス
- 🍕 ピザ
- 🍔 ハンバーガー

**特別セット（4種）** → 全実績達成
- 👑 おうかん
- 🏆 トロフィー
- 💎 ダイヤ
- 🎁 プレゼント

### 花の種アンロック（おはなそだて用）

#### 初期（2種）
- 🌸 さくら
- 🌷 チューリップ

#### アンロック可能
- 🌻 ひまわり → 実績「ガーデナー」
- 🌹 バラ → 実績「おはなマスター」
- 💐 ブーケ → 実績「おはなはかせ」

---

## 📊 実績表示UI

### ホーム画面（index.html）

```
┌─────────────────────────────────┐
│ [←]  🏆 12/30        [🔊]      │
│                                 │
│    🎮 このみちゃんのゲーム       │
│                                 │
│  【マスター】🏅                  │
│  つぎの実績まであと２つ！        │
│                                 │
│  ┌─────────────────────────┐  │
│  │ 🧩 ジグソーパズル [🆕]   │  │
│  └─────────────────────────┘  │
│                                 │
│  （ゲームリスト...）             │
│                                 │
│  [🏆 実績をみる]                │
│  [🎨 ギャラリー]                │
└─────────────────────────────────┘
```

### 実績画面（achievements.html）

```
┌─────────────────────────────────┐
│ [←]     🏆 じっせき           │
│                                 │
│  たっせいりつ: 12/30 (40%)     │
│  ━━━━━━━━━━━━━━━━━━━━━━━━  │
│                                 │
│  ┌─────────────────────────┐  │
│  │ ✅ はじめてのパズル！      │  │
│  │    2026-02-01             │  │
│  └─────────────────────────┘  │
│                                 │
│  ┌─────────────────────────┐  │
│  │ 🔒 パズルマスター          │  │
│  │    あと３かい！            │  │
│  └─────────────────────────┘  │
│                                 │
│  （スクロール...）              │
└─────────────────────────────────┘
```

### ギャラリー画面（gallery.html）

```
┌─────────────────────────────────┐
│ [←]     🎨 ギャラリー          │
│                                 │
│  おえかき: 7/10                 │
│                                 │
│  ┌────┬────┬────┐            │
│  │ 🖼️ │ 🖼️ │ 🖼️ │            │
│  │ 作1│ 作2│ 作3│            │
│  ├────┼────┼────┤            │
│  │ 🖼️ │ 🖼️ │ 🖼️ │            │
│  │ 作4│ 作5│ 作6│            │
│  ├────┼────┼────┤            │
│  │ 🖼️ │ ➕ │ ➕ │            │
│  │ 作7│    │    │            │
│  └────┴────┴────┘            │
│                                 │
│  タップでかくだい                │
└─────────────────────────────────┘
```

---

## 💾 データ構造

### LocalStorage設計

```javascript
// 実績データ
{
  "konomi_achievements": {
    "puzzle_first": { unlocked: true, date: "2026-02-01T10:00:00Z" },
    "puzzle_5": { unlocked: false, progress: 2 },
    // ...
  },
  
  // アンロック状態
  "konomi_unlocks": {
    "puzzles": ["cat", "strawberry", "sakura", "dog"],
    "matching_themes": ["animals", "fruits", "vehicles"],
    "stamps": ["star", "heart", "smile", "sakura", "cat", "apple", "sunflower"],
    "flowers": ["sakura", "tulip", "sunflower"]
  },
  
  // ギャラリー（おえかき）
  "konomi_gallery": [
    {
      id: "draw_001",
      thumbnail: "data:image/png;base64,...", // 小さいサムネイル
      full: "data:image/png;base64,...",      // フルサイズ
      date: "2026-02-01T10:00:00Z",
      title: "おえかき1"
    },
    // ... 最大10件
  ],
  
  // 花育成データ
  "konomi_flowers": [
    {
      id: "flower_001",
      type: "sakura",
      planted: "2026-02-01T10:00:00Z",
      lastWatered: "2026-02-01T18:00:00Z",
      growth: 75, // 0-100
      bloomed: false
    }
  ],
  
  // 連続プレイ記録
  "konomi_daily_streak": {
    current: 3,
    longest: 5,
    lastPlayed: "2026-02-01"
  }
}
```

---

## 🎁 報酬通知

### アンロック時の演出

1. **実績達成**
   - 画面中央にバッジ表示
   - 「🎉 じっせきたっせい！」
   - バッジアニメーション（弾む→キラキラ）
   - 報酬内容表示
   - 紙吹雪エフェクト

2. **アンロック**
   - 「🔓 あたらしい○○がつかえるように なったよ！」
   - プレビュー表示
   - タップで詳細確認

---

## 🌱 おはなそだて（新規ゲーム）

### ゲームフロー

1. **種を選ぶ**（アンロック済みから）
2. **プランターに植える**（最大3つ同時）
3. **水やり**（1日1回、タップで水やり）
4. **成長**（3日で開花）
5. **収穫**（タップで収穫、実績カウント）
6. **図鑑に記録**

### 成長ステージ
- **1日目**: 🌱 芽
- **2日目**: 🌿 葉
- **3日目**: 🌸 花（開花）

### 水やり忘れ対策
- 水やり忘れても枯れない（子供向け配慮）
- 水やりすると成長スピードアップ
- 通知「おはなが おみずをまってるよ！」

---

## 📈 進捗表示

### ホーム画面バッジ
- 新しい実績達成: 🆕 マーク
- 新しいアンロック: 🔓 マーク
- 水やり必要: 💧 マーク

### 進捗率表示
- 各ゲームの進捗バー
- 総合達成率: 「12/30 (40%)」

---

## 🔄 実績チェックタイミング

- ゲームクリア時
- 作品保存時
- 毎日の初回起動時（連続プレイ）
- 花の成長チェック時

---

**作成者**: モルト 🍺  
**バージョン**: 2.0 - Achievement Edition  
**最終更新**: 2026-02-01
